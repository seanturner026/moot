ListRepos:
  handler: bin/functions/repositories_list
  package:
    artifact: archive/functions/RepositoriesList.zip
  events:
    - httpApi:
        path: /repositories/list
        method: post
        authorizer: cognitoAuthorizer
    - httpApi:
        path: /repositories/list/{proxy+}
        method: options
        authorizer: cognitoAuthorizer
  maximumRetryAttempts: 0
  environment:
    GLOBAL_SECONDARY_INDEX_NAME: repo
    TABLE_NAME: ${self:service}-${self:provider.stage}
